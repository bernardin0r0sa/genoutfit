function toggleFAQ(t){var n,o,e=document.getElementById("faq-content-"+t),a=document.getElementById("arrow-"+t);e.classList.toggle("hidden"),a.classList.toggle("rotate-180");for(let e=1;e<=6;e++)e!==t&&(n=document.getElementById("faq-content-"+e),o=document.getElementById("arrow-"+e),n.classList.contains("hidden")||(n.classList.add("hidden"),o.classList.remove("rotate-180")))}document.addEventListener("DOMContentLoaded",function(){let t=document.getElementById("photosInput"),o=document.getElementById("fileList"),a=document.getElementById("errorMessage"),d=document.getElementById("loadingOverlay");var e=document.getElementById("photoForm");let r=[];function n(){o.innerHTML="",r.forEach((e,t)=>{var n=document.createElement("div");n.classList.add("flex","items-center","justify-between","py-1"),n.innerHTML=`
                ${e.name}
                <button type="button" onclick="removeFile(${t})" class="text-red-500 hover:text-red-700">Remove</button>
            `,o.appendChild(n)})}t&&o&&a&&d&&e?(window.removeFile=function(e){r.splice(e,1),n()},t.addEventListener("change",function(){a.classList.add("hidden");var e=Array.from(t.files);8<r.length+e.length?(a.textContent="You can only upload up to 8 photos.",a.classList.remove("hidden")):(r=[...r,...e],n())}),e.addEventListener("submit",async function(e){if(e.preventDefault(),8!==r.length)a.textContent="Please upload exactly 8 photos.",a.classList.remove("hidden");else{let t=new FormData(this);r.forEach(e=>{t.append("photos",e)}),d.classList.add("active");try{var n,o=await fetch("/api/submit",{method:"POST",body:t});o.ok?(n=await o.json(),window.location.href=n.checkoutUrl):alert("Error submitting photos. Please try again.")}catch(e){console.error("Error:",e),alert("An unexpected error occurred. Please try again.")}finally{d.classList.remove("active")}}})):console.error("Required elements not found")});